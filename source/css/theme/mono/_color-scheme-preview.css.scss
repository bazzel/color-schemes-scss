@import 'compass';

$hue               : 0;
$base-color : hsl($hue, 100%, 50%);

@function adjust-base-color($base-color, $scheme, $n) {
  $s: percentage(nth(nth($scheme, $n), 1))/100;
  $l: percentage(nth(nth($scheme, $n), 2))/100;
  $color: adjust-color($base-color, $saturation: $s, $lightness: $l);

  @return $color;
}

@function scheme-list($variant) {
  // default scheme:
  $scheme: (0 0) (-40 -3) (0 -17) (0 13) (0 23);

  @if ($variant == 'more contrast') {
    $scheme: (32 0) (-57 -18) (-6 -25) (-11 17) (-17 29);
  } @else if ($variant == 'high contrast') {
    $scheme: (32 0) (-61 -10) (-5 -28) (-8 20) (-14 33);
  } @else if ($variant == 'max contrast') {
    $scheme: (0 0) (-67 -12) (0 -35) (0 25) (0 45);
  }

  @return $scheme;
}

@mixin establish-color-scheme($base-color, $variant) {
  $scheme: scheme-list($variant);

  $scheme-base-color : adjust-base-color($base-color, $scheme, 1);
  $scheme-variant1   : adjust-base-color($base-color, $scheme, 2);
  $scheme-variant2   : adjust-base-color($base-color, $scheme, 3);
  $scheme-variant3   : adjust-base-color($base-color, $scheme, 4);
  $scheme-variant4   : adjust-base-color($base-color, $scheme, 5);

  .base-color {
    background-color: $scheme-base-color;
  }
  .variant1 {
    background-color: $scheme-variant1;
  }
  .variant2 {
    background-color: $scheme-variant2;
  }
  .variant3 {
    background-color: $scheme-variant3;
  }
  .variant4 {
    background-color: $scheme-variant4;
  }
}

.color-scheme-preview {
  .primary {
    @include establish-color-scheme($base-color, 'max contrast');
  }
}

